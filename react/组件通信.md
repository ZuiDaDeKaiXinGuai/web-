- 父组件向子组件通信
- 子组件向父组件通信
- 跨级组件之间通信
- 非嵌套组件间通信
---

> 父组件向子组件通信

这是最简单也是最常用的一种通信方式：父组件通过向子组件传递 props，子组件得到 props 后进行相应的处理。

> 子组件向父组件通信

利用回调函数，可以实现子组件向父组件通信：父组件将一个函数作为 props 传递给子组件，子组件调用该回调函数，便可以向父组件通信。

> 跨级组件之间通信

所谓跨级组件通信，就是父组件向子组件的子组件通信，向更深层的子组件通信。跨级组件通信可以采用下面两种方式：
1. 中间组件层层传递 props
2. 使用 context 对象

对于第一种方式，如果父组件结构较深，那么中间的每一层组件都要去传递 props，增加了复杂度，并且这些  props 并不是这些中间组件自己所需要的。不过这种方式也是可行的，当组件层次在三层以内可以采用这种方式，当组件嵌套过深时，采用这种方式就需要斟酌了。

使用 `context` 是另一种可行的方式，`Context`被翻译为上下文，在编程领域，这是一个经常会接触到的概念，React中也有。

##### 官方对于Context的定义

当你不想在组件树中通过逐层传递`props`或者`state`的方式来传递数据时，可以使用`Context`来实现跨层级的组件数据传递。

![image](https://note.youdao.com/yws/public/resource/f6042c576c71004af0b357646a723091/xmlnote/1C29B6F7F4CF4019BD702DE58FE692DF/4018)

使用props或者state传递数据，数据自顶下流。

![image](https://note.youdao.com/yws/public/resource/f6042c576c71004af0b357646a723091/xmlnote/58784667902345ADA4AB85A73D8485C8/4025)

使用Context，可以跨越组件进行数据传递。

---

##### 如何使用Context

如果要Context发挥作用，需要用到两种组件:

- Context生产者(Provider)，通常是一个父节点
- Context的消费者(Consumer)，通常是一个或者多个子节点。

所以Context的使用基于生产者消费者模式


